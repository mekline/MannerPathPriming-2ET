install.packages("devtools")
devtools::install_github("jwdink/eyetrackingR")
library("eyetrackingR")
library("lme4")
library("ggplot2")
library("Matrix")
library("plyr")
data("word_recognition")
setwd('/Users/crystallee/Documents/Github/MannerPathPriming-2ET/Data/99')
path = '~/Documents/Github/MannerPathPriming-2ET/Data/99'
out.file<-""
file.names <- dir(path, pattern ="^g+.*.csv")
file.names
file.names <- dir(path, pattern ="^g+.*P+.csv")
file.names <- dir(path, pattern ="^g+.*P.csv")
file.names <- dir(path, pattern ="^g+.*P*.csv")
file.names <- dir(path, pattern ="^g+.*P+.*.csv")
file.names <- dir(path, pattern ="^g+.*P+.*.csv")
file.names <- dir(path, pattern ="^g+.*P+.csv")
file.names <- dir(path, pattern ="gaze_MPPCREATION_99_All_of_P+.csv")
file.names <- dir(path, pattern ="gaze_MPPCREATION_99_All_of_Practice_.*.csv")
file.names
file.names <- dir(path, pattern ="gaze_MPPCREATION_99_All_of_Practice_.*.csv")
for(i in 1:length(file.names)){
file <- read.table(file.names[i],header=TRUE, sep=";", stringsAsFactors=FALSE)
out.file <- rbind(out.file, file)
}
write.table(out.file, file = "gaze_MPPCREATION_99_Practice.csv",sep=";",
row.names = FALSE, qmethod = "double",fileEncoding="windows-1252")
subj99_practice <- ldply( .data = list.files(pattern="gaze*.csv"),
.fun = read.csv,
header = FALSE,
col.names=c("subjectID", "device_time_stamp", "system_time_stamp", "trial", "L_valid", "L_x", "L_y", "R_valid", "R_x", "R_y") )
View(subj99_practice)
df_99_practice <- read.csv("gaze_MPPCREATION_99_Practice.csv", header = TRUE, stringsAsFactors=FALSE, fileEncoding="latin1")
View(df_99_practice)
df_99_practice <- read.csv("gaze_MPPCREATION_99_Practice.csv", header = TRUE, stringsAsFactors=TRUE, fileEncoding="latin1")
View(df_99_practice)
file.names <- dir(path, pattern ="gaze_MPPCREATION_99_All_of_Practice_.*.csv")
for(i in 1:length(file.names)){
file <- read.table(file.names[i],header=TRUE, sep=";", stringsAsFactors=TRUE)
out.file <- rbind(out.file, file)
}
for(i in 1:length(file.names)){
file <- read.table(file.names[i],header=TRUE, sep=",", stringsAsFactors=TRUE)
out.file <- rbind(out.file, file)
}
for(i in 1:length(file.names)){
temp_dataset <-read.table(i, header=TRUE, sep="\t")
dataset<-rbind(dataset, temp_dataset)
rm(temp_dataset)
}
for(i in 1:length(file.names)){
temp_dataset <-read.table(i, header=TRUE, sep=";")
dataset<-rbind(dataset, temp_dataset)
rm(temp_dataset)
}
for(file in file.names){
temp_dataset <-read.table(file, header=TRUE, sep=";")
dataset<-rbind(dataset, temp_dataset)
rm(temp_dataset)
}
for(file in file.names){
temp_dataset <-read.table(file, header=TRUE, sep=";")
}
View(temp_dataset)
for(file in file.names){
temp_dataset <-read.csv(file,  header = TRUE, stringsAsFactors=FALSE, fileEncoding="latin1")
}
View(temp_dataset)
for(file in file.names){
df_99_practice <-read.csv(file, header = TRUE, stringsAsFactors=FALSE, fileEncoding="latin1")
}
View(temp_dataset)
colnames(df_99_practice)[which(names(df_99_practice) == "description")] <- "trial"
View(temp_dataset)
colnames(df_99_practice)[which(names(df_99_practice) == "description")] <- "trial"
View(df_99_practice)
View(df_99_practice)
data <- make_eyetrackingr_data(df_99_practice,
participant_column = "subjectID",
trial_column = "trial",
time_column = "TimeFromTrialOnset",
trackloss_column = "TrackLoss",
aoi_columns = c('Animate','Inanimate'),
treat_non_aoi_looks_as_missing = TRUE
)
data <- make_eyetrackingr_data(df_99_practice,
participant_column = "subjectID",
trial_column = "trial",
time_column = "system_time_stamp",
trackloss_column = "TrackLoss",
aoi_columns = c('Animate','Inanimate'),
treat_non_aoi_looks_as_missing = TRUE
)
df_99_practice$Trackloss_column <- as.factor(ifelse 'L_valid' == 1 & 'R_valid' == 1, 1, 0)
df_99_practice$Trackloss_column <- as.factor(ifelse('L_valid' == 1 & 'R_valid' == 1, 1, 0))
df_99_practice$Trackloss_column <- as.factor(ifelse('L_valid' == 1 & 'R_valid' == 1, 1,
ifelse('L_valid' == 0 & 'R_valid' == 1, 0,
ifelse('L_valid' == 1 & 'R_valid' == 0, 0.
ifelse('L_valid' == 0 & 'R_valid' == 0, 0, 0)))))
df_99_practice$Trackloss_column <- as.factor(ifelse('L_valid' == 1 & 'R_valid' == 1, 1,
ifelse('L_valid' == 0 & 'R_valid' == 1, 0,
ifelse('L_valid' == 1 & 'R_valid' == 0, 0,
ifelse('L_valid' == 0 & 'R_valid' == 0, 0, 0)))))
df_99_practice$Trackloss_column <- as.factor(ifelse('L_valid' == '1' & 'R_valid' == '1', 1,
ifelse('L_valid' == '0' & 'R_valid' == '1', 0,
ifelse('L_valid' == '1' & 'R_valid' == '0', 0,
ifelse('L_valid' == '0' & 'R_valid' == '0', 0, 0)))))
View(df_99_practice)
str(df_99_practice)
df_99_practice$L_valid <- as.factor(df_99_practice$L_valid)
df_99_practice$R_valid <- as.factor(df_99_practice$R_valid)
str(df_99_practice)
df_99_practice$Trackloss_column <- as.factor(ifelse('L_valid' == '1' & 'R_valid' == '1', 1,
ifelse('L_valid' == '0' & 'R_valid' == '1', 0,
ifelse('L_valid' == '1' & 'R_valid' == '0', 0,
ifelse('L_valid' == '0' & 'R_valid' == '0', 0, 0)))))
View(temp_dataset)
View(df_99_practice)
df_99_practice$Trackloss_column
file.names <- dir(path, pattern ="gaze_MPPCREATION_99_All_of_Practice_.*.csv")
for(file in file.names){
df_99_practice <-read.csv(file, header = TRUE, stringsAsFactors=FALSE, fileEncoding="latin1")
}
colnames(df_99_practice)[which(names(df_99_practice) == "description")] <- "trial"
df_99_practice$L_valid <- as.factor(df_99_practice$L_valid)
df_99_practice$R_valid <- as.factor(df_99_practice$R_valid)
df_99_practice$Trackloss_column <- as.factor(ifelse('L_valid' == '1' & 'R_valid' == '1', 1,
ifelse('L_valid' == '0' & 'R_valid' == '1', 0,
ifelse('L_valid' == '1' & 'R_valid' == '0', 0,
ifelse('L_valid' == '0' & 'R_valid' == '0', 0, 0)))))
View(df_99_practice)
df_99_practice$L_valid
df_99_practice$Trackloss_column <- as.factor(ifelse('L_valid' == '1' & 'R_valid' == '1', 1,
ifelse('L_valid' == '0' & 'R_valid' == '1', 0,
ifelse('L_valid' == '1' & 'R_valid' == '0', 0,
ifelse('L_valid' == '0' & 'R_valid' == '0', 0, 'Error')))))
df_99_practice$R_valid
df_99_practice$Trackloss_column <- as.factor(ifelse('L_valid' == '1' & 'R_valid' == '1', '1',
ifelse('L_valid' == '0' & 'R_valid' == '1', '0',
ifelse('L_valid' == '1' & 'R_valid' == '0', '0',
ifelse('L_valid' == '0' & 'R_valid' == '0', '0', 'Error')))))
View(df_99_practice)
df_99_practice$Trackloss_column <- as.factor(ifelse(df_99_practice$L_valid == '1' & df_99_practice$R_valid == '1', '1',
ifelse(df_99_practice$L_valid == '0' & df_99_practice$R_valid == '1', '0',
ifelse(df_99_practice$L_valid == '1' & df_99_practice$R_valid == '0', '0',
ifelse(df_99_practice$L_valid == '0' & df_99_practice$R_valid == '0', '0', 'Error')))))
View(df_99_practice)
data <- make_eyetrackingr_data(df_99_practice,
participant_column = "subjectID",
trial_column = "trial",
time_column = "system_time_stamp",
trackloss_column = "TrackLoss_column",
treat_non_aoi_looks_as_missing = TRUE
)
