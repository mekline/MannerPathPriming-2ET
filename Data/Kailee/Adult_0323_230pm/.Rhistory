install.packages("devtools")
#devtools::
install_github("jwdink/eyetrackingR")
library("eyetrackingR")
library("plyr")
library("dplyr")
library("lme4")
library("ggplot2")
library("Matrix")
library("tidyr")
library("stringr")
install_github("jwdink/eyetrackingR")
library(devtools)
install_github("jwdink/eyetrackingR")
library("eyetrackingR")
kids_to_process <- c('Adult_0322_1.30pm',
'Adult_0322_2pm',
'Adult_0323_1030am',
'Adult_0323_11am_4',
'Adult_0323_1130am',
'Adult_0323_130pm',
'Adult_0323_230pm'
)
myRepo = '/Users/kailee/Documents/GitHub/MannerPathPriming-2ET Repo'
analysisDir = paste(myRepo, '/Analysis/Analysis_Kailee/',sep='')
dataDir = paste(myRepo, '/Data/Kailee/',sep='')
setwd(myRepo)
getwd()
setwd()
setwd(myRepo)
setwd("myRepo")
getwd()
Is()
ls()
myRepo = '/Users/kailee/Documents/GitHub/MannerPathPriming-2ET'
analysisDir = paste(myRepo, '/Analysis/Analysis_Kailee/',sep='')
dataDir = paste(myRepo, '/Data/Kailee/',sep='')
setwd(myRepo)
getwd()
ls()
pData <- read.csv('all_participants_MPP2ET.csv')
pData <- pData %>%
filter(SubjectID %in% kids_to_process)
DatData <- data.frame(NULL)
TimestampData <- data.frame(NULL)
GazeData <- data.frame(NULL)
for(ID in pData$SubjectID){
myDataDir <- paste(dataDir, ID, '/', sep='')
setwd(myDataDir)
print(ID)
myDatFile <- paste('data_MPPCREATION_',ID, '.dat', sep='')
myTimestampFile <- paste('timestamps_MPPCREATION_',ID,'.csv',sep='')
myMainGazeFiles <- list.files(path = myDataDir, full.names = TRUE, pattern = ".*\\Main_.*.csv")
myPracticeGazeFiles <- list.files(path = myDataDir, full.names = TRUE, pattern = ".*\\Practice_.*.csv")
myDatData <- read.csv(myDatFile)
myTimestampData <- read.csv(myTimestampFile)
myGazeData <- data.frame(NULL)
for (f in myMainGazeFiles){
thisGazeData = read.csv(f)
thisGazeData$filename = f
thisGazeData$phaseGaze = 'Main'
if(nrow(myGazeData) == 0) {
myGazeData = thisGazeData
} else{
myGazeData = bind_rows(myGazeData, thisGazeData)
}
}
for (f in myPracticeGazeFiles){
thisGazeData = read.csv(f)
thisGazeData$filename = f
thisGazeData$phaseGaze = 'Practice'
myGazeData = bind_rows(myGazeData, thisGazeData)
}
if (nrow(DatData) == 0){ #special case for 1st round
DatData = myDatData
TimestampData = myTimestampData
GazeData = myGazeData
} else {
DatData = bind_rows(DatData, myDatData)
TimestampData = bind_rows(TimestampData, myTimestampData)
GazeData = bind_rows(GazeData, myGazeData)
}
}
kids_to_process <- c('Adult_0322_1.30pm','Adult_0322_2_2pm',
'Adult_0323_1030am','Adult_0323_11am_4',
'Adult_0323_1130am','Adult_0323_130pm',
'Adult_0323_2pm','Adult_0323_230pm'
)
pData <- read.csv('all_participants_MPP2ET.csv')
myRepo = '/Users/kailee/Documents/GitHub/MannerPathPriming-2ET'
analysisDir = paste(myRepo, '/Analysis/Analysis_Kailee/',sep='')
dataDir = paste(myRepo, '/Data/Kailee/',sep='')
setwd(myRepo)
getwd()
ls()
#load participantdata
pData <- read.csv('all_participants_MPP2ET.csv')
pData <- pData %>%
filter(SubjectID %in% kids_to_process)
#Load data for all participants from their data folders
DatData <- data.frame(NULL)
TimestampData <- data.frame(NULL)
GazeData <- data.frame(NULL)
for(ID in pData$SubjectID){
myDataDir <- paste(dataDir, ID, '/', sep='')
setwd(myDataDir)
print(ID)
myDatFile <- paste('data_MPPCREATION_',ID, '.dat', sep='')
myTimestampFile <- paste('timestamps_MPPCREATION_',ID,'.csv',sep='')
myMainGazeFiles <- list.files(path = myDataDir, full.names = TRUE, pattern = ".*\\Main_.*.csv")
myPracticeGazeFiles <- list.files(path = myDataDir, full.names = TRUE, pattern = ".*\\Practice_.*.csv")
myDatData <- read.csv(myDatFile)
myTimestampData <- read.csv(myTimestampFile)
myGazeData <- data.frame(NULL)
for (f in myMainGazeFiles){
thisGazeData = read.csv(f)
thisGazeData$filename = f
thisGazeData$phaseGaze = 'Main'
if(nrow(myGazeData) == 0) {
myGazeData = thisGazeData
} else{
myGazeData = bind_rows(myGazeData, thisGazeData)
}
}
for (f in myPracticeGazeFiles){
thisGazeData = read.csv(f)
thisGazeData$filename = f
thisGazeData$phaseGaze = 'Practice'
myGazeData = bind_rows(myGazeData, thisGazeData)
}
#Add everything to the big DFs!
if (nrow(DatData) == 0){ #special case for 1st round
DatData = myDatData
TimestampData = myTimestampData
GazeData = myGazeData
} else {
DatData = bind_rows(DatData, myDatData)
TimestampData = bind_rows(TimestampData, myTimestampData)
GazeData = bind_rows(GazeData, myGazeData)
}
}
warnings()
